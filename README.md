# Mozik Backend (AI Mosaic Server)

Mozik Backend는 **영상/이미지 자동 모자이크**를 위한 AI 서버  
YOLO 기반 얼굴/객체 탐지와 얼굴 임베딩(DeepFace 계열 모델)을 활용하여,  
특정 인물(등록된 얼굴)은 제외하거나 강제로 모자이크 처리하는 기능을 제공하는 것이 특징

이 레포지토리는 **웹 서비스/프론트엔드에서 HTTP로 호출하는 AI 전용 백엔드** 코드만을 포함

---

## 주요 기능

- **이미지 모자이크 처리**
  - 입력 이미지에서 얼굴(또는 특정 객체)을 탐지하여, 지정된 블러 강도로 모자이크 처리함
  - 등록된 얼굴은 제외(visible) 또는 항상 모자이크(force) 등 정책을 적용할 수 있음
- **영상 모자이크 처리**
  - 동영상 프레임 단위로 얼굴을 탐지하고 모자이크 처리함
  - 처리 완료 후 결과 영상을 파일로 저장하거나 스트리밍 형태로 응답할 수 있도록 설계됨
- **얼굴 등록 / 조회**
  - 사용자 또는 “허용/예외 인물”의 얼굴 이미지를 등록하고, 임베딩을 DB/파일 시스템에 저장함
  - 등록된 얼굴 리스트 조회, 재로딩 등을 통해 모자이크 정책을 동적으로 조정할 수 있음
- **YOLO 기반 얼굴 탐지**
  - `best.pt` 커스텀 YOLO 가중치를 사용하여 얼굴 탐지 성능을 향상시킴
  - 일부 상황에서는 기존 OpenCV 기반 탐지나 보조 탐지 로직과 함께 사용할 수 있도록 구성됨
- **임베딩 기반 얼굴 매칭**
  - ACRFace 기반 얼굴 임베딩을 사용하여 고정된 벡터 차원의 특징을 추출함
  - 각 얼굴 임베딩 간 코사인 유사도(cosine similarity)를 계산하여 동일 인물 여부를 판별함
  - 프로젝트 설정에서 지정한 threshold(예: 0.40)를 기준으로 매칭 성공/실패를 결정함
  - ACRFace는 Light-weight하면서도 높은 정확도의 얼굴 임베딩을 제공하여,
    영상 환경에서도 빠르고 안정적인 매칭 성능을 제공함


---
